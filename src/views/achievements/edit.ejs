<!DOCTYPE html>
<html>
<head>
    <title>Edit Achievement - <%= achievement.name %></title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <%- include('../partials/nav') %>
    
    <div class="container">
        <h1>Edit Achievement</h1>
        <form action="/achievements/<%= achievement._id %>?_method=PUT" method="POST" class="form" enctype="multipart/form-data">
            <div class="form-group">
                <label for="name">Achievement Name:</label>
                <input type="text" id="name" name="name" value="<%= achievement.name %>" required>
            </div>

            <div class="form-group">
                <label for="description">Description:</label>
                <textarea id="description" name="description" required><%= achievement.description %></textarea>
            </div>

            <div class="form-group">
                <label for="points">Points (5-20):</label>
                <input 
                    type="number" 
                    id="points" 
                    name="points" 
                    min="5" 
                    max="20" 
                    value="<%= achievement.points %>" 
                    required
                >
                <small>Achievement points must be between 5 and 20</small>
            </div>

            <div class="form-group">
                <label>Difficulty:</label>
                <div class="difficulty-options">
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="Easy" <%= achievement.difficulty === 'Easy' ? 'checked' : '' %> required>
                        <span class="difficulty easy">Easy</span>
                    </label>
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="Medium" <%= achievement.difficulty === 'Medium' ? 'checked' : '' %> required>
                        <span class="difficulty medium">Medium</span>
                    </label>
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="Hard" <%= achievement.difficulty === 'Hard' ? 'checked' : '' %> required>
                        <span class="difficulty hard">Hard</span>
                    </label>
                    <label class="difficulty-option">
                        <input type="radio" name="difficulty" value="Expert" <%= achievement.difficulty === 'Expert' ? 'checked' : '' %> required>
                        <span class="difficulty expert">Expert</span>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label for="achievementImage">Achievement Image:</label>
                <% if (achievement.imageUrl) { %>
                    <img src="<%= achievement.imageUrl %>" alt="Current achievement image" style="max-width: 200px; margin: 10px 0;">
                <% } %>
                <input type="file" id="achievementImage" name="achievementImage" accept="image/*">
                <small>Leave empty to keep current image</small>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-edit">Update Achievement</button>
                <a href="/games/<%= achievement.game._id %>" class="btn btn-cancel">Cancel</a>
            </div>
        </form>
    </div>
</body>
</html> 